{"version":3,"sources":["actions/actionCreators.js","actions/actionTypes.js","components/ServiceAdd.js","components/ServiceList.js","components/ServiceChange.js","App.js","reducers/serviceListReducer.js","reducers/serviceAddReducer.js","reducers/serviceChangeReducer.js","reducers/serviseIsLoadingReducer.js","store/index.js","index.js"],"names":["fetchServiceFailure","error","type","payload","fetchServiceSuccess","items","changeServiceInit","data","fetchService","dispatch","a","id","url","process","fetch","response","ok","Error","statusText","json","message","addService","name","price","method","headers","body","JSON","stringify","changeService","content","goBack","console","log","removeService","ServiceAdd","props","useSelector","state","serviceAdd","item","loading","useDispatch","handleChange","event","target","value","nameField","changeAddServiceField","onSubmit","preventDefault","className","onChange","class","disabled","ServiceList","match","history","serviceList","serviceIsLoadng","isLoading","isError","useEffect","onClick","map","o","key","EditFilled","push","DeleteFilled","handleRemove","ServiceChange","serviceChange","chLoading","chError","useState","firstLoad","setFirstLoad","Number","params","changeServiceField","App","window","location","pathname","path","component","exact","from","to","initialState","reducer","combineReducers","action","removeItem","filter","service","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.81c7f0b4.chunk.js","sourcesContent":["import {\n  CHANGE_SERVICE_FIELD,\n  CHANGE_ADD_SERVICE_FIELD,\n  CHANGE_SERVICE_CANCEL,\n  FETCH_SERVICES_REQUEST,\n  FETCH_SERVICES_FAILURE,\n  FETCH_SERVICES_SUCCESS,\n  FETCH_SERVICES_END_LOADING,\n  IS_LOADING_REQUEST,\n  IS_LOADING_FAILURE,\n  ADD_SERVICES_REQUEST,\n  ADD_SERVICES_FAILURE,\n  ADD_SERVICES_SUCCESS,\n  CHANGE_SERVICES_REQUEST,\n  CHANGE_SERVICES_FAILURE,\n  CHANGE_SERVICES_SUCCESS,\n  CHANGE_SERVICES_INIT,\n  IS_LOADING_SUCCESS,\n} from \"./actionTypes\";\n\nexport function changeAddServiceField(nameField, value) {\n  return { type: CHANGE_ADD_SERVICE_FIELD, payload: { nameField, value } };\n}\n\nexport function changeServiceField(nameField, value) {\n  return { type: CHANGE_SERVICE_FIELD, payload: { nameField, value } };\n}\n\nexport function changeServiceCancel() {\n  return { type: CHANGE_SERVICE_CANCEL };\n}\n\nexport function fetchServiceRequest() {\n  return { type: FETCH_SERVICES_REQUEST };\n}\n\nexport function fetchServiceFailure(error) {\n  return { type: FETCH_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function fetchServiceSuccess(items) {\n  return { type: FETCH_SERVICES_SUCCESS, payload: items };\n}\n\nexport function addServiceRequest() {\n  return { type: ADD_SERVICES_REQUEST };\n}\n\nexport function addServiceFailure(error) {\n  return { type: ADD_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function addServiceSuccess() {\n  return { type: ADD_SERVICES_SUCCESS };\n}\n\nexport function changeServiceRequest() {\n  return { type: CHANGE_SERVICES_REQUEST };\n}\n\nexport function changeServiceFailure(error) {\n  return { type: CHANGE_SERVICES_FAILURE, payload: { error } };\n}\n\nexport function changeServiceSuccess() {\n  return { type: CHANGE_SERVICES_SUCCESS };\n}\n\nexport function changeServiceInit(data) {\n  return { type: CHANGE_SERVICES_INIT, payload: data };\n}\n\nexport function fetchServiceEndLoading() {\n  return { type: FETCH_SERVICES_END_LOADING };\n}\n\nexport function isLoadingRequest() {\n  return { type: IS_LOADING_REQUEST };\n}\n\nexport function isLoadingFailure(error) {\n  return { type: IS_LOADING_FAILURE, payload: { error } };\n}\nexport function isLoadingSuccess() {\n  return { type: IS_LOADING_SUCCESS };\n}\n\nexport const fetchService = async (dispatch, id = null) => {\n  dispatch(fetchServiceRequest());\n  const url = id\n    ? `${process.env.REACT_APP_LOCAL_URL}/${id}`\n    : process.env.REACT_APP_LOCAL_URL;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    const data = await response.json();\n    if (id) {\n      dispatch(changeServiceInit(data));\n    } else {\n      dispatch(fetchServiceSuccess({ data }));\n    }\n  } catch (e) {\n    dispatch(fetchServiceFailure({ error: e.message }));\n  }\n};\n\nexport const addService = async (dispatch, name, price) => {\n  dispatch(addServiceRequest());\n  try {\n    await fetch(process.env.REACT_APP_LOCAL_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ name, price }),\n    });\n    // eslint-disable-next-line no-undef\n    if (id) {\n      dispatch(changeServiceSuccess());\n    } else {\n      dispatch(addServiceSuccess());\n      fetchService(dispatch);\n    }\n  } catch (e) {\n    dispatch(addServiceFailure(e.message));\n  }\n};\n\nexport const changeService = async (\n  dispatch,\n  id,\n  name,\n  price,\n  content,\n  goBack\n) => {\n  dispatch(changeServiceRequest());\n  try {\n    // eslint-disable-next-line no-unused-vars\n    const resp = await fetch(process.env.REACT_APP_LOCAL_URL, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({ id, name, price, content }),\n    });\n    dispatch(changeServiceSuccess());\n  } catch (e) {\n    console.log(e);\n    dispatch(changeServiceFailure({ error: e.message }));\n  }\n};\n\nexport const removeService = async (dispatch, id) => {\n  dispatch(isLoadingRequest());\n  try {\n    await fetch(`${process.env.REACT_APP_LOCAL_URL}/${id}`, {\n      method: \"DELETE\",\n    });\n  } catch (e) {\n    dispatch(isLoadingFailure(e.message));\n  } finally {\n    dispatch(isLoadingSuccess());\n    fetchService(dispatch);\n  }\n};\n","export const ADD_SERVICE = \"ADD_SERVICE\";\nexport const REMOVE_SERVICE = \"REMOVE_SERVICE\";\nexport const CHANGE_ADD_SERVICE_FIELD = \"CHANGE_ADD_SERVICE_FIELD\";\nexport const CHANGE_SERVICE = \"CHANGE_SERVICE\";\nexport const CHANGE_SERVICE_CANCEL = \"CHANGE_SERVICE_CANCEL\";\nexport const FETCH_SERVICES_REQUEST = \"FETCH_SERVICES_REQUEST\";\nexport const FETCH_SERVICES_FAILURE = \"FETCH_SERVICES_FAILURE\";\nexport const FETCH_SERVICES_SUCCESS = \"FETCH_SERVICES_SUCCESS\";\nexport const FETCH_SERVICES_END_LOADING = \"FETCH_SERVICES_END_LOADING\";\nexport const IS_LOADING_REQUEST = \"IS_LOADING_REQUEST\";\nexport const IS_LOADING_FAILURE = \"IS_LOADING_FAILURE\";\nexport const IS_LOADING_SUCCESS = \"IS_LOADING_SUCCESS\";\nexport const ADD_SERVICES_REQUEST = \"ADD_SERVICES_REQUEST\";\nexport const ADD_SERVICES_FAILURE = \"ADD_SERVICES_FAILURE\";\nexport const ADD_SERVICES_SUCCESS = \"ADD_SERVICES_SUCCESS\";\nexport const CHANGE_SERVICE_FIELD = \"CHANGE_SERVICE_FIELD\";\nexport const CHANGE_SERVICES_REQUEST = \"CHANGE_SERVICES_REQUEST\";\nexport const CHANGE_SERVICES_FAILURE = \"CHANGE_SERVICES_FAILURE\";\nexport const CHANGE_SERVICES_SUCCESS = \"CHANGE_SERVICES_SUCCESS\";\nexport const CHANGE_SERVICES_INIT = \"CHANGE_SERVICES_INIT\";\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { changeAddServiceField, addService } from \"../actions/actionCreators\";\n\nexport default function ServiceAdd(props) {\n  const { item, loading, error } = useSelector((state) => state.serviceAdd);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    dispatch(changeAddServiceField(name, value));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    addService(dispatch, item.name, item.price);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {error && <div className=\"error-msg\">Произошла ошибка!</div>}\n      <input name=\"name\" onChange={handleChange} value={item.name} />\n      <input name=\"price\" onChange={handleChange} value={item.price} />\n      {!loading && (\n        <button class=\"ui inverted green button\" type=\"submit\" disabled={loading}>\n          Save\n        </button>\n      )}\n      {loading && <div className=\"ui active slow green double loader\"></div>}\n    </form>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { removeService, fetchService } from \"../actions/actionCreators\";\nimport ServiceAdd from \"./ServiceAdd\";\nimport { EditFilled, DeleteFilled } from \"@ant-design/icons\";\n\nfunction ServiceList(props) {\n  const { match, history } = props;\n  const { items, loading, error } = useSelector((state) => state.serviceList);\n  // eslint-disable-next-line no-unused-vars\n  const { isLoading, isError } = useSelector((state) => state.serviceIsLoadng);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    fetchService(dispatch);\n  }, [dispatch]);\n\n  const handleRemove = (id) => {\n    removeService(dispatch, id);\n  };\n\n  const handleChange = (id) => {\n    history.push(`${match.url}/${id}`);\n  };\n\n  const handleRefresh = () => {\n    fetchService(dispatch);\n  };\n\n  if (loading) {\n    return <div className=\"ui active slow green double loader\"></div>;\n  }\n\n  if (error) {\n    return (\n      <>\n        <div className=\"error-msg\">Произошла ошибка!</div>\n        <button class=\"ui red basic button\" onClick={handleRefresh}>\n          Refresh\n        </button>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <ServiceAdd />\n      <ul>\n        {items &&\n          items.map((o) => (\n            <li key={o.id}>\n              {o.name} {o.price}\n              <EditFilled\n                className=\"button btn\"\n                onClick={() => handleChange(o.id)}\n              />\n              <DeleteFilled\n                className=\"button\"\n                onClick={() => handleRemove(o.id)}\n                disabled={isLoading}\n              />\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n}\n\nexport default ServiceList;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  changeServiceField,\n  changeService,\n  fetchService,\n} from \"../actions/actionCreators\";\n\nfunction ServiceChange(props) {\n  const { match, history } = props;\n  const { item, chLoading, chError } = useSelector(\n    (state) => state.serviceChange\n  );\n  const { loading, error } = useSelector((state) => state.serviceList);\n  const [firstLoad, setFirstLoad] = useState(true);\n  const dispatch = useDispatch();\n\n  const id = Number(match.params.id);\n\n  useEffect(() => {\n    if (!firstLoad && !chLoading) {\n      history.goBack();\n    }\n    if (firstLoad) {\n      setFirstLoad(false);\n      fetchService(dispatch, id);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, chLoading]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    changeService(dispatch, id, item.name, item.price, item.content);\n  };\n\n  const handleCancel = () => {\n    history.goBack();\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    dispatch(changeServiceField(name, value));\n  };\n\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  if (loading) {\n    return <div className=\"ui active slow green double loader\"></div>;\n  }\n\n  if (error) {\n    return (\n      <div>\n        <div className=\"error-msg\">Произошла ошибка!</div>\n        <div onClick={handleBack}>Назад</div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <form\n        onSubmit={handleSubmit}\n        disabled={chLoading}\n        className=\"change-form\"\n      >\n        <label>Название</label>\n        <input name=\"name\" onChange={handleChange} value={item.name} />\n        <label>Стоимость</label>\n        <input name=\"price\" onChange={handleChange} value={item.price} />\n        <label>Описание</label>\n        <input name=\"content\" onChange={handleChange} value={item.content} />\n        <div className=\"buttons\">\n          <button type=\"button\" onClick={handleCancel}>\n            Отмена\n          </button>\n          {!chLoading && <button type=\"submit\">Сохранить</button>}\n        </div>\n      </form>\n      {chLoading && <div className=\"ui active slow green double loader\"></div>}\n      {chError && <p>{chError.message}</p>}\n    </>\n  );\n}\n\nexport default ServiceChange;\n","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport ServiceList from './components/ServiceList';\nimport ServiceChange from './components/ServiceChange';\n\nexport default function App(props) {\n  const url = window.location.pathname;\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route path={`${url}services/:id`} component={ServiceChange} />\n          <Route path={`${url}services`} component={ServiceList} />\n          <Redirect exact from={`${url}`} to={`${url}services`} />\n        </Switch>\n      </Router>\n    </>\n  );\n}\n","import {\n  REMOVE_SERVICE,\n  FETCH_SERVICES_REQUEST,\n  FETCH_SERVICES_FAILURE,\n  FETCH_SERVICES_SUCCESS,\n  CHANGE_SERVICES_INIT,\n} from \"../actions/actionTypes\";\n\nconst initialState = {\n  items: [],\n  loading: false,\n  error: null,\n};\n\nexport default function serviceListReducer(state = initialState, action) {\n  switch (action.type) {\n    case FETCH_SERVICES_REQUEST:\n      return { ...state, loading: true, error: null };\n\n    case FETCH_SERVICES_FAILURE:\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n\n    case FETCH_SERVICES_SUCCESS:\n      const { data } = action.payload;\n      return { ...state, items: data, loading: false, error: null };\n\n    case REMOVE_SERVICE:\n      const removeItem = action.payload;\n      return state.items.filter((service) => service.id !== removeItem.id);\n\n    case CHANGE_SERVICES_INIT:\n      return { ...state, loading: false, error: null };\n\n    default:\n      return state;\n  }\n}\n","import {\n  CHANGE_ADD_SERVICE_FIELD,\n  ADD_SERVICES_REQUEST,\n  ADD_SERVICES_SUCCESS,\n  ADD_SERVICES_FAILURE,\n} from \"../actions/actionTypes\";\n\nconst initialState = {\n  item: { name: \"\", price: \"\" },\n  loading: false,\n  error: null,\n};\n\nexport default function serviceAddReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_ADD_SERVICE_FIELD:\n      const { nameField, value } = action.payload;\n      return {\n        ...state,\n        item: {\n          ...state.item,\n          [nameField]: value,\n        },\n      };\n\n    case ADD_SERVICES_REQUEST:\n      return { ...state, loading: true, error: null };\n\n    case ADD_SERVICES_SUCCESS:\n      return { ...initialState };\n\n    case ADD_SERVICES_FAILURE:\n      const { error } = action.payload;\n      return { ...state, loading: false, error };\n\n    default:\n      return state;\n  }\n}\n","import {\n  CHANGE_SERVICE_FIELD,\n  CHANGE_SERVICES_REQUEST,\n  CHANGE_SERVICES_FAILURE,\n  CHANGE_SERVICES_SUCCESS,\n  CHANGE_SERVICES_INIT,\n} from \"../actions/actionTypes\";\n\nconst initialState = {\n  item: {\n    id: \"\",\n    name: \"\",\n    price: \"\",\n    content: \"\",\n  },\n  chLoading: false,\n  chError: null,\n};\n\nexport default function serviceAddReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_SERVICE_FIELD:\n      const { nameField, value } = action.payload;\n      return {\n        ...state,\n        item: {\n          ...state.item,\n          [nameField]: value,\n        },\n      };\n\n    case CHANGE_SERVICES_REQUEST:\n      return { ...state, chLoading: true, chError: null };\n\n    case CHANGE_SERVICES_FAILURE:\n      const { error } = action.payload;\n      return { ...state, chLoading: false, chError: error };\n\n    case CHANGE_SERVICES_SUCCESS:\n      return { ...initialState };\n\n    case CHANGE_SERVICES_INIT:\n      console.log(action.payload);\n      const { id, name, price, content } = action.payload;\n      return {\n        ...state,\n        chLoading: false,\n        chError: null,\n        item: {\n          id,\n          name,\n          price,\n          content,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n","import {\n  IS_LOADING_REQUEST,\n  IS_LOADING_FAILURE,\n  IS_LOADING_SUCCESS,\n} from \"../actions/actionTypes\";\n\nconst initialState = {\n  isLoading: false,\n  isError: null,\n};\n\nexport default function serviceIsLoadingReducer(state = initialState, action) {\n  switch (action.type) {\n    case IS_LOADING_REQUEST:\n      return { ...state, isLoading: true };\n\n    case IS_LOADING_FAILURE:\n      console.log(action.payload);\n      const { error } = action.payload;\n      return { ...state, isLoading: false, isError: error };\n\n    case IS_LOADING_SUCCESS:\n      return { ...initialState };\n\n    default:\n      return state;\n  }\n}\n","import { createStore, combineReducers } from \"redux\";\nimport serviceListReducer from \"../reducers/serviceListReducer\";\nimport serviceAddReducer from \"../reducers/serviceAddReducer\";\nimport serviceChangeReducer from \"../reducers/serviceChangeReducer\";\nimport serviceIsLoadingReducer from \"../reducers/serviseIsLoadingReducer\";\n\nconst reducer = combineReducers({\n  serviceList: serviceListReducer,\n  serviceAdd: serviceAddReducer,\n  serviceChange: serviceChangeReducer,\n  serviceIsLoadng: serviceIsLoadingReducer,\n});\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport store from './store';\nimport {Provider} from 'react-redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}